{% extends "stocks/base.html" %}
{% load tailwind_filters %}




{% block content %}
<style>
h1 {

  font-size: 30px;
}

  table {
    border-collapse: separate;
    border-spacing: .2em;
    display: flex;
    flex-wrap: wrap;
  }

  td {

    text-align: center;
    border-radius: 8px;
    width: 120px;
    margin: 2px;
    text-align: center;
    line-height: 20px;
    font-size: 13px;
    border-radius: 8px;
    

  }
  .newFont{
    color: aliceblue;
  }

</style>

{% if request.POST %}
  

<h1 class="mine"> Map of {{sectorstock.indices}} stocks for {{heatmap}} By Price Change % </h1>
<br>
{% else %}
<h1 class="mine"> Map of {{sectorstock.indices}} stocks for Daily By Price Change % </h1>
<br>
{% endif %}


<form action="" method="POST">
  {% csrf_token %}

<a href=""> <button type="submit" value="1day" name="heatmap" class="w-40  float-none bg-blue-500 text-white hover:bg-blue-600 px-2 py-2 rounded-lg">1day </button></a>
<a href=""> <button type="submit" value="1week" name="heatmap" class="w-40  float-none bg-blue-500 text-white hover:bg-blue-600 px-2 py-2 rounded-lg">1week </button></a>
<a href=""><button type="submit" value="1month" name="heatmap" class="w-40  float-none bg-blue-500 text-white hover:bg-blue-600 px-2 py-2 rounded-lg">1month </button></a>
<a href=""><button type="submit" value="3month" name="heatmap" class="w-40  float-none bg-blue-500 text-white hover:bg-blue-600 px-2 py-2 rounded-lg">3month</button></a>
<a href=""><button type="submit" value="6month" name="heatmap" class="w-40  float-none bg-blue-500 text-white hover:bg-blue-600 px-2 py-2 rounded-lg">6month </button></a>
<a href=""><button type="submit" value="1year" name="heatmap" class="w-40  float-none bg-blue-500 text-white hover:bg-blue-600 px-2 py-2 rounded-lg">1Year </button></a>
</form>
<br><br>


<table>
  
  {% for stock in stocksectorprice %}
  <tbody>
    <tr>
  {% if stock.per_chan < -4 %} 
  
    
      <td class="newFont" style="background-color: #FF0000 ; ">
        <a  href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
        <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br>
      </td>


      {% elif stock.per_chan < -3 %} <td class="newFont" style="background-color: #FF6400;">
        <a href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
        <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br></td>

        {% elif stock.per_chan < -2 %} <td style="background-color: #FF9664;;">
          <a href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
          <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br></td>

          {% elif stock.per_chan < -1 %} <td style="background-color:  #FFC896;">
            <a href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
            <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br></td>

            {% elif stock.per_chan < 0 %} <td style="background-color: #FFE1AF;;">
              <a href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
              <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br></td>

              {% elif stock.per_chan > 4 %}

              <td class="newFont" style="background-color: #385724;;">
                <a href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
                <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br>
              </td>

              {% elif stock.per_chan > 3 %}

              <td class="newFont" style="background-color: #548235;">
                <a href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
                <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br>
              </td>

              {% elif stock.per_chan > 2 %}

              <td style="background-color: #A9D18E;;">
                <a href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
                <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br>
              </td>

              {% elif stock.per_chan > 1 %}

              <td style="background-color: #C5E0B4;;">
                <a href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
                <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br>
              </td>

              {% elif stock.per_chan > 0 %}

              <td style="background-color: #E2F0D9;;">
                <a href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
                <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br>
              </td>

              {% elif stock.per_chan == 0 %}

              <td style="background-color: #E2F0D9;;">
                <a href="{% url 'stocks:stock-detail' stock.stock.symbol %}"><b>{{stock.stock.symbol}}</a></b><br>
                <b>{{stock.close}}</b><br><b>{{stock.per_chan}}%</b><br>
              </td>
    </tr>

    {% endif %}


    {% endfor %}

    </tbody>


</table>







{% endblock %}